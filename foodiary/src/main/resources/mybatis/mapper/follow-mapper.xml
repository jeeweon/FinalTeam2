<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="follow">
	<insert id="insert" parameterType="FollowDto">
		insert into 
			follow
				(follow_no, active_mem_no,passive_mem_no) 
			values
				(follow_seq.nextval,#{activeMemNo},#{passiveMemNo})
				 
	</insert>
	<delete id="delete" parameterType="FollowDto">
		delete 
		from 
			follow 
		where 
			active_mem_no =#{activeMemNo} and passive_mem_no=#{passiveMemNo}	
	</delete>
	<select id="count" parameterType="int" resultType="int">
		select
			 count(*) 
		from 
			follow 
		where 
			active_mem_no=#{activeMemNo} and passive_mem_no=#{passiveMemNo}
	</select> 
	<!-- 팔로워수 -->
	<select id="follower" parameterType="int" resultType="int">
	select
		 count(passive_mem_no)
	from 
	 	follow 
	where 
		passive_mem_no=#{memNo}
	</select>
	<!-- 팔로잉수 -->
	<select id="following" parameterType="int" resultType="int">
	select 
		count(active_mem_no) 
	from 
		follow 
	where 
		active_mem_no=#{memNo}
	</select>
	<!-- 게시물수 --> 
	<select id="reviewcount" parameterType="int" resultType="int">
	select 
		count(review_no)
	from 
		review 
	where 
		mem_no=#{memNo}
	</select>
</mapper>